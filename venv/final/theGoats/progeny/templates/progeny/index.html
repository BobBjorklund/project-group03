{%extends 'progeny/base.html'%}
{%block title %} Welcome to the Progeny Report {%endblock%}
{%block css %}
<style>
    body {
        background-color: cornflowerblue;
    }
    table {
        border:1px solid black;
    }
    tr {
        border:1px solid black;
    }
    td {
        border:1px solid black;
    }
</style>
    
{%endblock%}
{%block content%}

    <table>
        <p id = 'text'></p>
    {% for dam in dams%}
        <tr>
        {%for colname in colnames %}
        <td>{{colname}}</td>
        {%endfor%}
        <td>winter_weights</td>
        </tr>
        <tr id = {{dam.2}} onclick="showkids({{dam.2}})">
        {%for v in dam%}
            <td>{{v}}</td>
        {%endfor%}
        <td>
            {%for v in dam|dict_of_list:0|dict_key:dam2%}
                {{v.1}}:{{v.0}}<br>
            {%endfor%}
        </td>
        </tr>
        {%for kid in dam|dict_of_list:2|dict_key:dk%}
        <tr id="{{dam.2}}{{kid.2}}" class="{{dam.2}}kid" style='display:none' >
            {%for v in kid%}
            <td>{{v}}</td>
            {%endfor%}
        </tr>
        {%endfor%}
    {%endfor%}
{%block scripts%}
        
{%endblock%}
    </table>
    <script>
        function showkids(dam) {
            var listKids = document.getElementsByClassName(dam+'kid');
            for (var i = 0; i < listKids.length;i++){
                listKids[i].style.display=(listKids[i].style.display=='none'?'table-row':'none');
            }
        }
        
    </script> 
{%endblock%}